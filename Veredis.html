<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flor Espacial VEREDIS</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            overflow: hidden;
            background: #000;
            font-family: Arial, sans-serif;
        }
        
        canvas {
            display: block;
        }
        
        #nombre {
            position: absolute;
            z-index: 10;
            font-size: 56px;
            font-weight: bold;
            font-family: 'Georgia', 'Brush Script MT', cursive, serif;
            letter-spacing: 6px;
            transition: opacity 1s ease, transform 1s ease;
            pointer-events: none;
        }
        
        #nombre.veredis {
            color: #e6e6fa;
            text-shadow: 
                0 0 10px #9370db,
                0 0 20px #8a2be2,
                0 0 30px #9400d3,
                0 0 40px #ba55d3,
                0 0 50px #9370db;
        }
        
        #nombre.sofia {
            color: #ffe6f0;
            text-shadow: 
                0 0 10px #ff1493,
                0 0 20px #ff69b4,
                0 0 30px #ff00ff,
                0 0 40px #ff1493,
                0 0 50px #ff69b4;
        }
    </style>
</head>
<body>
    <canvas id="canvas"></canvas>
    <div id="nombre" class="veredis">VEREDIS</div>
    
    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        
        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            updateFlowerPosition();
        });
        
        // Estrellas del espacio
        const stars = [];
        for (let i = 0; i < 200; i++) {
            stars.push({
                x: Math.random() * canvas.width,
                y: Math.random() * canvas.height,
                size: Math.random() * 2,
                color: ['#fff', '#ffd700', '#87ceeb', '#ff69b4', '#9370db'][Math.floor(Math.random() * 5)],
                twinkle: Math.random() * Math.PI * 2,
                speedX: (Math.random() - 0.5) * 0.3,
                speedY: (Math.random() - 0.5) * 0.3
            });
        }
        
        // Flor (se actualizará en el resize)
        const flower = {
            x: 0,
            y: 0,
            petalCount: 8,
            petalLength: 40,
            angle: 0
        };
        
        function updateFlowerPosition() {
            flower.x = canvas.width / 2;
            flower.y = canvas.height / 2 - 50;
        }
        
        updateFlowerPosition();
        
        // Corazones cayendo
        const hearts = [];
        const particles = [];
        
        // Poema
        const poem = "Tienes en la mirada un universo, un mapa de promesas y de calma, donde cada palabra se hace verso y cada gesto se me enreda en el alma".split(' ');
        let poemIndex = 0;
        
        // Animación del nombre VEREDIS y SOFIA
        const nombreEl = document.getElementById('nombre');
        let nameVisible = true;
        let currentName = 'VEREDIS';
        
        function updateNamePosition() {
            const positions = [
                { top: '15%', left: '20%' },
                { top: '20%', left: '75%' },
                { top: '70%', left: '15%' },
                { top: '75%', left: '80%' },
                { top: '50%', left: '50%', transform: 'translate(-50%, 90px)' },
                { top: '10%', left: '50%', transform: 'translateX(-50%)' },
                { top: '80%', left: '50%', transform: 'translateX(-50%)' },
                { top: '40%', left: '10%' },
                { top: '60%', left: '85%' }
            ];
            
            const randomPos = positions[Math.floor(Math.random() * positions.length)];
            nombreEl.style.top = randomPos.top;
            nombreEl.style.left = randomPos.left;
            nombreEl.style.transform = randomPos.transform || 'translate(0, 0)';
        }
        
        function animateName() {
            if (nameVisible) {
                nombreEl.style.opacity = '0';
                nameVisible = false;
                setTimeout(() => {
                    // Alternar entre VEREDIS y SOFIA
                    currentName = currentName === 'VEREDIS' ? 'SOFIA' : 'VEREDIS';
                    nombreEl.textContent = currentName;
                    nombreEl.className = currentName.toLowerCase();
                    updateNamePosition();
                    setTimeout(() => {
                        nombreEl.style.opacity = '1';
                        nameVisible = true;
                    }, 500);
                }, 1000);
            }
        }
        
        nombreEl.textContent = currentName;
        nombreEl.className = 'veredis';
        updateNamePosition();
        setInterval(animateName, 4000);
        
        class Heart {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = -50;
                this.size = 35 + Math.random() * 20;
                this.speedY = 0.8 + Math.random() * 1;
                this.drift = (Math.random() - 0.5) * 2;
                this.color = ['#ff1493', '#ff69b4', '#ff00ff', '#ff0080'][Math.floor(Math.random() * 4)];
            }
            
            update() {
                this.y += this.speedY;
                this.x += this.drift;
            }
            
            draw() {
                ctx.fillStyle = this.color;
                ctx.beginPath();
                
                // Corazón más redondeado
                const x = this.x;
                const y = this.y;
                const s = this.size;
                
                ctx.moveTo(x, y + s * 0.3);
                ctx.bezierCurveTo(x, y - s * 0.1, x - s * 0.5, y - s * 0.4, x - s * 0.5, y);
                ctx.bezierCurveTo(x - s * 0.5, y + s * 0.2, x - s * 0.3, y + s * 0.4, x, y + s * 0.7);
                ctx.bezierCurveTo(x + s * 0.3, y + s * 0.4, x + s * 0.5, y + s * 0.2, x + s * 0.5, y);
                ctx.bezierCurveTo(x + s * 0.5, y - s * 0.4, x, y - s * 0.1, x, y + s * 0.3);
                
                ctx.fill();
            }
            
            checkCollision() {
                // Colisión con flor
                const distFlower = Math.hypot(this.x - flower.x, this.y - flower.y);
                if (distFlower < 100) return 'flower';
                
                // Colisión con nombre
                const nameEl = document.getElementById('nombre');
                const nameRect = nameEl.getBoundingClientRect();
                if (this.x > nameRect.left && this.x < nameRect.right && 
                    this.y > nameRect.top && this.y < nameRect.bottom) {
                    return 'name';
                }
                
                // Colisión con otros corazones
                for (let other of hearts) {
                    if (other !== this) {
                        const dist = Math.hypot(this.x - other.x, this.y - other.y);
                        if (dist < this.size + other.size) return 'heart';
                    }
                }
                
                return false;
            }
        }
        
        class Particle {
            constructor(x, y, color, word) {
                this.x = x;
                this.y = y;
                this.word = word;
                this.size = 18;
                this.speedX = (Math.random() - 0.5) * 1;
                this.speedY = (Math.random() - 0.5) * 1 - 0.5;
                this.color = color;
                this.life = 4000;
                this.birthTime = Date.now();
                this.rotation = Math.random() * Math.PI * 2;
                this.rotationSpeed = (Math.random() - 0.5) * 0.05;
            }
            
            update() {
                this.x += this.speedX;
                this.y += this.speedY;
                this.speedY += 0.03;
                this.rotation += this.rotationSpeed;
            }
            
            draw() {
                const age = Date.now() - this.birthTime;
                const alpha = 1 - (age / this.life);
                
                ctx.save();
                ctx.translate(this.x, this.y);
                ctx.rotate(this.rotation);
                ctx.globalAlpha = alpha;
                ctx.fillStyle = this.color;
                ctx.strokeStyle = '#fff';
                ctx.lineWidth = 1;
                ctx.font = 'bold ' + this.size + 'px Georgia, serif';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.strokeText(this.word, 0, 0);
                ctx.fillText(this.word, 0, 0);
                ctx.restore();
                
                ctx.globalAlpha = 1;
            }
            
            isDead() {
                return Date.now() - this.birthTime > this.life;
            }
        }
        
        function explodeHeart(heart, collisionType) {
            if (collisionType === 'flower') {
                const word = poem[poemIndex % poem.length];
                poemIndex++;
                particles.push(new Particle(heart.x, heart.y, heart.color, word));
            }
        }
        
        function drawFlower() {
            ctx.save();
            ctx.translate(flower.x, flower.y);
            
            // Tallo
            ctx.strokeStyle = '#228b22';
            ctx.lineWidth = 5;
            ctx.beginPath();
            ctx.moveTo(0, 0);
            ctx.lineTo(0, 150);
            ctx.stroke();
            
            // Hojas
            ctx.fillStyle = '#32cd32';
            ctx.beginPath();
            ctx.ellipse(-15, 80, 20, 10, -Math.PI / 4, 0, Math.PI * 2);
            ctx.fill();
            ctx.beginPath();
            ctx.ellipse(15, 110, 20, 10, Math.PI / 4, 0, Math.PI * 2);
            ctx.fill();
            
            // Pétalos
            ctx.rotate(flower.angle);
            for (let i = 0; i < flower.petalCount; i++) {
                ctx.rotate((Math.PI * 2) / flower.petalCount);
                ctx.fillStyle = '#ff1493';
                ctx.beginPath();
                ctx.ellipse(0, -flower.petalLength / 2, 15, flower.petalLength / 2, 0, 0, Math.PI * 2);
                ctx.fill();
            }
            
            // Centro de la flor
            ctx.rotate(-flower.angle);
            ctx.fillStyle = '#ffd700';
            ctx.beginPath();
            ctx.arc(0, 0, 15, 0, Math.PI * 2);
            ctx.fill();
            
            ctx.restore();
        }
        
        function animate() {
            ctx.fillStyle = '#000';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Dibujar estrellas del fondo
            stars.forEach(star => {
                star.x += star.speedX;
                star.y += star.speedY;
                
                // Wrap around
                if (star.x < 0) star.x = canvas.width;
                if (star.x > canvas.width) star.x = 0;
                if (star.y < 0) star.y = canvas.height;
                if (star.y > canvas.height) star.y = 0;
                
                star.twinkle += 0.05;
                const alpha = 0.5 + Math.sin(star.twinkle) * 0.5;
                ctx.globalAlpha = alpha;
                ctx.fillStyle = star.color;
                ctx.beginPath();
                ctx.arc(star.x, star.y, star.size, 0, Math.PI * 2);
                ctx.fill();
            });
            ctx.globalAlpha = 1;
            
            // Animar flor
            flower.angle += 0.01;
            drawFlower();
            
            // Crear nuevos corazones
            if (Math.random() < 0.03) {
                hearts.push(new Heart());
            }
            
            // Actualizar y dibujar corazones
            for (let i = hearts.length - 1; i >= 0; i--) {
                hearts[i].update();
                hearts[i].draw();
                
                const collision = hearts[i].checkCollision();
                if (collision || hearts[i].y > canvas.height + 50) {
                    if (hearts[i].y < canvas.height + 50 && collision) {
                        explodeHeart(hearts[i], collision);
                    }
                    hearts.splice(i, 1);
                }
            }
            
            // Actualizar y dibujar partículas
            for (let i = particles.length - 1; i >= 0; i--) {
                particles[i].update();
                particles[i].draw();
                
                if (particles[i].isDead()) {
                    particles.splice(i, 1);
                }
            }
            
            requestAnimationFrame(animate);
        }
        
        animate();
    </script>
</body>
</html>